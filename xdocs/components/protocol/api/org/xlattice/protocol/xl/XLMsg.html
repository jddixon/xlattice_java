<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Sun Dec 29 15:04:48 PST 2013 -->
<title>XLMsg</title>
<meta name="date" content="2013-12-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="XLMsg";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XLMsg.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/xlattice/protocol/xl/XLConst.html" title="interface in org.xlattice.protocol.xl"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/xlattice/protocol/xl/XLMsg.html" target="_top">Frames</a></li>
<li><a href="XLMsg.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.xlattice.protocol.xl</div>
<h2 title="Class XLMsg" class="title">Class XLMsg</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.xlattice.protocol.xl.XLMsg</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/xlattice/protocol/xl/XLConst.html" title="interface in org.xlattice.protocol.xl">XLConst</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/xlattice/protocol/xl/Ping.html" title="class in org.xlattice.protocol.xl">Ping</a>, <a href="../../../../org/xlattice/protocol/xl/Pong.html" title="class in org.xlattice.protocol.xl">Pong</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">XLMsg</span>
extends java.lang.Object
implements <a href="../../../../org/xlattice/protocol/xl/XLConst.html" title="interface in org.xlattice.protocol.xl">XLConst</a></pre>
<div class="block">This is an interim spec for an XLattice message.  This consists
 of a fixed-length header and zero or more attributes.  The 
 20-byte header looks like

 <pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |     XLattice message type     |        message length         |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |    
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                          transaction ID
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                                                 |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 </pre>
 
 In this and all other XLattice message and message attribute 
 specifications, field values are big-endian.
 
 The message length is the overall length of the message expressed
 as an unsigned 16-bit number.  The transaction ID is a 12-byte
 value generated by a crypto-grade random number generator.  This 
 will sometimes be referred to as a message ID.
 
 We would like to be able to precede the message with zero or 
 more LABELs, each an 8-byte value.
 
 We would also like to be able to piggyback PING and PONG messages
 on other messages.  It might be sensible to do this by defining
 PingAttr and PongAttr attributes, although these might interact
 badly with message routing.

 A traceroute facility is also very desirable.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jim Dixon</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.security.SecureRandom</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#rng">rng</a></strong></code>
<div class="block">any use must be synchronized</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#type">type</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.xlattice.protocol.xl.XLConst">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.xlattice.protocol.xl.<a href="../../../../org/xlattice/protocol/xl/XLConst.html" title="interface in org.xlattice.protocol.xl">XLConst</a></h3>
<code><a href="../../../../org/xlattice/protocol/xl/XLConst.html#BOTTOM_MASK">BOTTOM_MASK</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#DESTINATION">DESTINATION</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#EXP_MASK">EXP_MASK</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#HEADER_LENGTH">HEADER_LENGTH</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#LABEL">LABEL</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#MSG_ID_LENGTH">MSG_ID_LENGTH</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#PING">PING</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#PONG">PONG</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#SOURCE">SOURCE</a>, <a href="../../../../org/xlattice/protocol/xl/XLConst.html#TTL_MASK">TTL_MASK</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#XLMsg(int)">XLMsg</a></strong>(int&nbsp;type)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#XLMsg(int, byte[])">XLMsg</a></strong>(int&nbsp;type,
     byte[]&nbsp;msgID)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#add(org.xlattice.protocol.xl.XLAttr)">add</a></strong>(<a href="../../../../org/xlattice/protocol/xl/XLAttr.html" title="class in org.xlattice.protocol.xl">XLAttr</a>&nbsp;attr)</code>
<div class="block">Add a TLV16 attribute to the message, updating the header's
 length field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/xlattice/protocol/xl/XLMsg.html" title="class in org.xlattice.protocol.xl">XLMsg</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#decode(byte[])">decode</a></strong>(byte[]&nbsp;inBuf)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#decodeAttr(org.xlattice.protocol.xl.XLMsg, byte[], int)">decodeAttr</a></strong>(<a href="../../../../org/xlattice/protocol/xl/XLMsg.html" title="class in org.xlattice.protocol.xl">XLMsg</a>&nbsp;msg,
          byte[]&nbsp;inBuf,
          int&nbsp;msgLen)</code>
<div class="block">Read and attach attributes to previously deserialized header.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#encode(byte[])">encode</a></strong>(byte[]&nbsp;outBuf)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/xlattice/protocol/xl/XLAttr.html" title="class in org.xlattice.protocol.xl">XLAttr</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#get(int)">get</a></strong>(int&nbsp;n)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#getMsgID()">getMsgID</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#length()">length</a></strong>()</code>
<div class="block">The total length of any attributes, including the type/length
 fields.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#size()">size</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/protocol/xl/XLMsg.html#wireLength()">wireLength</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="rng">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rng</h4>
<pre>protected static final&nbsp;java.security.SecureRandom rng</pre>
<div class="block">any use must be synchronized</div>
</li>
</ul>
<a name="type">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>type</h4>
<pre>public final&nbsp;int type</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XLMsg(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XLMsg</h4>
<pre>protected&nbsp;XLMsg(int&nbsp;type)</pre>
</li>
</ul>
<a name="XLMsg(int, byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XLMsg</h4>
<pre>protected&nbsp;XLMsg(int&nbsp;type,
     byte[]&nbsp;msgID)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="length()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>length</h4>
<pre>public&nbsp;int&nbsp;length()</pre>
<div class="block">The total length of any attributes, including the type/length
 fields.  This number does NOT include the length of the header.</div>
</li>
</ul>
<a name="getMsgID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMsgID</h4>
<pre>public&nbsp;byte[]&nbsp;getMsgID()</pre>
</li>
</ul>
<a name="add(org.xlattice.protocol.xl.XLAttr)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../../org/xlattice/protocol/xl/XLAttr.html" title="class in org.xlattice.protocol.xl">XLAttr</a>&nbsp;attr)</pre>
<div class="block">Add a TLV16 attribute to the message, updating the header's
 length field.</div>
</li>
</ul>
<a name="get(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../org/xlattice/protocol/xl/XLAttr.html" title="class in org.xlattice.protocol.xl">XLAttr</a>&nbsp;get(int&nbsp;n)</pre>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>number of attributes</dd></dl>
</li>
</ul>
<a name="wireLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wireLength</h4>
<pre>public&nbsp;int&nbsp;wireLength()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>byte length of serialized message</dd></dl>
</li>
</ul>
<a name="encode(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encode</h4>
<pre>public&nbsp;void&nbsp;encode(byte[]&nbsp;outBuf)</pre>
</li>
</ul>
<a name="decodeAttr(org.xlattice.protocol.xl.XLMsg, byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeAttr</h4>
<pre>protected static&nbsp;void&nbsp;decodeAttr(<a href="../../../../org/xlattice/protocol/xl/XLMsg.html" title="class in org.xlattice.protocol.xl">XLMsg</a>&nbsp;msg,
              byte[]&nbsp;inBuf,
              int&nbsp;msgLen)
                          throws java.io.IOException</pre>
<div class="block">Read and attach attributes to previously deserialized header.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - XLMsg being created</dd><dd><code>inBuf</code> - buffer containing serialized message</dd><dd><code>msgLen</code> - total number of bytes in attributes</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="decode(byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>decode</h4>
<pre>public static&nbsp;<a href="../../../../org/xlattice/protocol/xl/XLMsg.html" title="class in org.xlattice.protocol.xl">XLMsg</a>&nbsp;decode(byte[]&nbsp;inBuf)
                    throws java.io.IOException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XLMsg.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/xlattice/protocol/xl/XLConst.html" title="interface in org.xlattice.protocol.xl"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/xlattice/protocol/xl/XLMsg.html" target="_top">Frames</a></li>
<li><a href="XLMsg.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
