<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Fri May 27 11:00:51 PDT 2016 -->
<title>Client</title>
<meta name="date" content="2016-05-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Client";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":9,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":9,"i11":10,"i12":10,"i13":10,"i14":10,"i15":42,"i16":9,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":9,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":9,"i34":9,"i35":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Client.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/xlattice/protocol/stun/ChangeRequest.html" title="class in org.xlattice.protocol.stun"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/xlattice/protocol/stun/Client.Foursome.html" title="class in org.xlattice.protocol.stun"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/xlattice/protocol/stun/Client.html" target="_top">Frames</a></li>
<li><a href="Client.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.xlattice.protocol.stun</div>
<h2 title="Class Client" class="title">Class Client</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.xlattice.protocol.stun.Client</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/xlattice/protocol/stun/StunConst.html" title="interface in org.xlattice.protocol.stun">StunConst</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Client</span>
extends java.lang.Object
implements <a href="../../../../org/xlattice/protocol/stun/StunConst.html" title="interface in org.xlattice.protocol.stun">StunConst</a></pre>
<div class="block">An RFC 3489 STUN client with a command-line interface.  References 
 in this file to 'the RFC' mean IETF RFC 3489.

 The RFC states that clients should use server discovery,
 learning what STUN servers are available for a domain from
 SRV records in the DNS.  This is not yet implemented.

 Finally, the RFC requires that communications with the secret
 server use a TLS connection.  In this interim release, they use bare
 TCP/IP and are unencrypted.

 This implementation uses an uncomfortable mixture of XLattice
 abstractions and plain old sockets.  This will be sorted out,
 but in this class
 <ul>
   <li><b>Inet4Address</b>es have <b>Host</b> in their names
   <li><b>ports</b> are called that, as for example <b>localPort</b></li>
   <li>an XLattice <b>IPAddress</b> has <b>Addr</b> in its name
 </ul>

 An IPAddress in this terminology consists of an InetAddress and
 a port number.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Jim Dixon</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.Foursome.html" title="class in org.xlattice.protocol.stun">Client.Foursome</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.FoursomeComp.html" title="class in org.xlattice.protocol.stun">Client.FoursomeComp</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.xlattice.util.NonBlockingLog</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#clientLog">clientLog</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#FULL_CONE">FULL_CONE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#INCONCLUSIVE">INCONCLUSIVE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.net.Inet4Address</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#LOOPBACK_ADDR">LOOPBACK_ADDR</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#NAT_TYPES">NAT_TYPES</a></span></code>
<div class="block">NAT descriptions indexed by type</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#NATTED">NATTED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#NO_UDP">NO_UDP</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#NOT_NATTED">NOT_NATTED</a></span></code>
<div class="block">RFC 3489 test results</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#OPEN_INTERNET">OPEN_INTERNET</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#PORT_RESTRICTED">PORT_RESTRICTED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#RESTRICTED">RESTRICTED</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#SYM_FIREWALL">SYM_FIREWALL</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#SYMMETRIC_NAT">SYMMETRIC_NAT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#version">version</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.xlattice.protocol.stun.StunConst">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.xlattice.protocol.stun.<a href="../../../../org/xlattice/protocol/stun/StunConst.html" title="interface in org.xlattice.protocol.stun">StunConst</a></h3>
<code><a href="../../../../org/xlattice/protocol/stun/StunConst.html#BINDING_ERROR_RESPONSE">BINDING_ERROR_RESPONSE</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#BINDING_REQUEST">BINDING_REQUEST</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#BINDING_RESPONSE">BINDING_RESPONSE</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#CHANGE_IP">CHANGE_IP</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#CHANGE_PORT">CHANGE_PORT</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#CHANGE_REQUEST">CHANGE_REQUEST</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#CHANGED_ADDRESS">CHANGED_ADDRESS</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#ERROR_CODE">ERROR_CODE</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#HEADER_LENGTH">HEADER_LENGTH</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#MAPPED_ADDRESS">MAPPED_ADDRESS</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#MESSAGE_INTEGRITY">MESSAGE_INTEGRITY</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#MSG_ID_LENGTH">MSG_ID_LENGTH</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#PASSWORD">PASSWORD</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#REFLECTED_FROM">REFLECTED_FROM</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#RESPONSE_ADDRESS">RESPONSE_ADDRESS</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#SECONDARY_ADDRESS">SECONDARY_ADDRESS</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#SERVER_NAME">SERVER_NAME</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#SHARED_SECRET_ERROR_RESPONSE">SHARED_SECRET_ERROR_RESPONSE</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#SHARED_SECRET_REQUEST">SHARED_SECRET_REQUEST</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#SHARED_SECRET_RESPONSE">SHARED_SECRET_RESPONSE</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#SOURCE_ADDRESS">SOURCE_ADDRESS</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#STUN_SERVER_PORT">STUN_SERVER_PORT</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#UNKNOWN_ATTRIBUTES">UNKNOWN_ATTRIBUTES</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#USERNAME">USERNAME</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#XOR_MAPPED_ADDRESS">XOR_MAPPED_ADDRESS</a>, <a href="../../../../org/xlattice/protocol/stun/StunConst.html#XOR_ONLY">XOR_ONLY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#Client-java.net.Inet4Address-int-">Client</a></span>(java.net.Inet4Address&nbsp;pA,
      int&nbsp;pP)</code>
<div class="block">This constructor is suitable only for local testing; it wires 
 in a 127.0.0.1 local host address.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#Client-java.net.Inet4Address-int-boolean-boolean-">Client</a></span>(java.net.Inet4Address&nbsp;pA,
      int&nbsp;pP,
      boolean&nbsp;authenticate,
      boolean&nbsp;verbose)</code>
<div class="block">Client instance logging to default directory and using 
 a default local address and ephemeral port number.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#Client-java.net.Inet4Address-int-java.net.Inet4Address-int-java.lang.String-boolean-boolean-">Client</a></span>(java.net.Inet4Address&nbsp;pA,
      int&nbsp;pP,
      java.net.Inet4Address&nbsp;myA,
      int&nbsp;myP,
      java.lang.String&nbsp;logDir,
      boolean&nbsp;authenticate,
      boolean&nbsp;verbose)</code>
<div class="block">Client instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#Client-java.net.Inet4Address-int-java.net.NetworkInterface-">Client</a></span>(java.net.Inet4Address&nbsp;pA,
      int&nbsp;pP,
      java.net.NetworkInterface&nbsp;iface)</code>
<div class="block">Constructor using a named local interface; it selects an IPv4 
 address on that interface.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#Client-java.net.Inet4Address-int-java.net.NetworkInterface-java.lang.String-boolean-boolean-">Client</a></span>(java.net.Inet4Address&nbsp;pA,
      int&nbsp;pP,
      java.net.NetworkInterface&nbsp;iface,
      java.lang.String&nbsp;logDir,
      boolean&nbsp;authenticate,
      boolean&nbsp;verbose)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#bind-int-">bind</a></span>(int&nbsp;n)</code>
<div class="block">Get a binding from one of the four UDP binding servers.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#bindingLifetime--">bindingLifetime</a></span>()</code>
<div class="block">Spend a lot of time guesstimating how long a port binding
 lasts.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/xlattice/protocol/stun/ServerInfo.html" title="class in org.xlattice.protocol.stun">ServerInfo</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#discoverServers-java.lang.String-boolean-">discoverServers</a></span>(java.lang.String&nbsp;domain,
               boolean&nbsp;findUDP)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/xlattice/protocol/stun/ServerInfo.html" title="class in org.xlattice.protocol.stun">ServerInfo</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#discoverServers-java.lang.String-java.lang.String-boolean-">discoverServers</a></span>(java.lang.String&nbsp;nameServer,
               java.lang.String&nbsp;domain,
               boolean&nbsp;findUDP)</code>
<div class="block">Discover the STUN server for a given domain, using a particular
 recursive name server for the search.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/xlattice/protocol/stun/BindingResponse.html" title="class in org.xlattice.protocol.stun">BindingResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#doSendRecv-java.net.DatagramPacket-java.net.DatagramSocket-int-byte:A-byte:A-">doSendRecv</a></span>(java.net.DatagramPacket&nbsp;outPkt,
          java.net.DatagramSocket&nbsp;socket,
          int&nbsp;timeout,
          byte[]&nbsp;msgID,
          byte[]&nbsp;buffer)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#fetchUserNameAndPassword--">fetchUserNameAndPassword</a></span>()</code>
<div class="block">XXX NEEDS TO THROW AN EXCEPTION if not authenticating.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getChangeFlags--">getChangeFlags</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>org.xlattice.transport.IPAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getClientAddr--">getClientAddr</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.net.Inet4Address</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getInterfaceAddress-java.net.NetworkInterface-">getInterfaceAddress</a></span>(java.net.NetworkInterface&nbsp;iface)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static java.net.Inet4Address</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getIPAddr-java.lang.String-">getIPAddr</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>org.xlattice.transport.IPAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getMappedAddr--">getMappedAddr</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getNatDescription--">getNatDescription</a></span>()</code>
<div class="block">Returns a String description of the NAT type, possibly with
 embedded newlines, and newline-terminated.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/xlattice/protocol/stun/NattedAddress.html" title="class in org.xlattice.protocol.stun">NattedAddress</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getNattedAddress--">getNattedAddress</a></span>()</code>
<div class="block">Determines the NAT type and returns it in a NattedAddress,
 which contains the local address (host and port number) and the
 mapped address if different.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getPassword--">getPassword</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getPort--">getPort</a></span>()</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">and redundant; use getNattedAddress() instead</span></div>
</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getPortArg-java.lang.String-">getPortArg</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>org.xlattice.transport.IPAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getReflectedFromAddr--">getReflectedFromAddr</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>org.xlattice.transport.IPAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getResponseAddr--">getResponseAddr</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>org.xlattice.transport.IPAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getSecondaryAddr--">getSecondaryAddr</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>org.xlattice.transport.IPAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getSecretServerAddr--">getSecretServerAddr</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getServerIndex--">getServerIndex</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>org.xlattice.transport.IPAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getSourceAddr--">getSourceAddr</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#getUserName--">getUserName</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#LOG_MSG-java.lang.String-">LOG_MSG</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#logAndThrow-java.lang.String-">logAndThrow</a></span>(java.lang.String&nbsp;msg)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">Command line interface to the STUN client.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#setChangeFlags-int-">setChangeFlags</a></span>(int&nbsp;val)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#setResponseAddr-org.xlattice.transport.IPAddress-">setResponseAddr</a></span>(org.xlattice.transport.IPAddress&nbsp;respAddr)</code>
<div class="block">Causes a RESPONSE-ADDRSS attribute to be added to
 BindingRequests.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#test1a--">test1a</a></span>()</code>
<div class="block">Send a bare BindingRequest.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#test1b--">test1b</a></span>()</code>
<div class="block">Send out a bare BindingRequest to the server's alternative
 address and port.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#test2-boolean-">test2</a></span>(boolean&nbsp;natted)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#test3--">test3</a></span>()</code>
<div class="block">Send a BindingRequest with a change port request to the
 server.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#usage--">usage</a></span>()</code>
<div class="block">Needs to be prettier.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#usage-java.lang.String-">usage</a></span>(java.lang.String&nbsp;msg)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/xlattice/protocol/stun/Client.html#validPort-int-">validPort</a></span>(int&nbsp;n)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NOT_NATTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NOT_NATTED</h4>
<pre>public static final&nbsp;int NOT_NATTED</pre>
<div class="block">RFC 3489 test results</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.NOT_NATTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NATTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NATTED</h4>
<pre>public static final&nbsp;int NATTED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.NATTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INCONCLUSIVE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INCONCLUSIVE</h4>
<pre>public static final&nbsp;int INCONCLUSIVE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.INCONCLUSIVE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NO_UDP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_UDP</h4>
<pre>public static final&nbsp;int NO_UDP</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.NO_UDP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OPEN_INTERNET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OPEN_INTERNET</h4>
<pre>public static final&nbsp;int OPEN_INTERNET</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.OPEN_INTERNET">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SYM_FIREWALL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SYM_FIREWALL</h4>
<pre>public static final&nbsp;int SYM_FIREWALL</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.SYM_FIREWALL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FULL_CONE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FULL_CONE</h4>
<pre>public static final&nbsp;int FULL_CONE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.FULL_CONE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RESTRICTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RESTRICTED</h4>
<pre>public static final&nbsp;int RESTRICTED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.RESTRICTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PORT_RESTRICTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PORT_RESTRICTED</h4>
<pre>public static final&nbsp;int PORT_RESTRICTED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.PORT_RESTRICTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SYMMETRIC_NAT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SYMMETRIC_NAT</h4>
<pre>public static final&nbsp;int SYMMETRIC_NAT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.xlattice.protocol.stun.Client.SYMMETRIC_NAT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOOPBACK_ADDR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOOPBACK_ADDR</h4>
<pre>public static&nbsp;java.net.Inet4Address LOOPBACK_ADDR</pre>
</li>
</ul>
<a name="NAT_TYPES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NAT_TYPES</h4>
<pre>public static final&nbsp;java.lang.String[] NAT_TYPES</pre>
<div class="block">NAT descriptions indexed by type</div>
</li>
</ul>
<a name="version">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>version</h4>
<pre>public static final&nbsp;java.lang.String version</pre>
</li>
</ul>
<a name="clientLog">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clientLog</h4>
<pre>protected final&nbsp;org.xlattice.util.NonBlockingLog clientLog</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Client-java.net.Inet4Address-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Client</h4>
<pre>public&nbsp;Client(java.net.Inet4Address&nbsp;pA,
              int&nbsp;pP)</pre>
<div class="block">This constructor is suitable only for local testing; it wires 
 in a 127.0.0.1 local host address.</div>
</li>
</ul>
<a name="Client-java.net.Inet4Address-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Client</h4>
<pre>public&nbsp;Client(java.net.Inet4Address&nbsp;pA,
              int&nbsp;pP,
              boolean&nbsp;authenticate,
              boolean&nbsp;verbose)</pre>
<div class="block">Client instance logging to default directory and using 
 a default local address and ephemeral port number.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pA</code> - server IPv4 address</dd>
<dd><code>pP</code> - primary port</dd>
<dd><code>authenticate</code> - whether to</dd>
<dd><code>verbose</code> - whether the client should be talkative</dd>
</dl>
</li>
</ul>
<a name="Client-java.net.Inet4Address-int-java.net.NetworkInterface-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Client</h4>
<pre>public&nbsp;Client(java.net.Inet4Address&nbsp;pA,
              int&nbsp;pP,
              java.net.NetworkInterface&nbsp;iface)</pre>
<div class="block">Constructor using a named local interface; it selects an IPv4 
 address on that interface.</div>
</li>
</ul>
<a name="Client-java.net.Inet4Address-int-java.net.NetworkInterface-java.lang.String-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Client</h4>
<pre>public&nbsp;Client(java.net.Inet4Address&nbsp;pA,
              int&nbsp;pP,
              java.net.NetworkInterface&nbsp;iface,
              java.lang.String&nbsp;logDir,
              boolean&nbsp;authenticate,
              boolean&nbsp;verbose)</pre>
</li>
</ul>
<a name="Client-java.net.Inet4Address-int-java.net.Inet4Address-int-java.lang.String-boolean-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Client</h4>
<pre>public&nbsp;Client(java.net.Inet4Address&nbsp;pA,
              int&nbsp;pP,
              java.net.Inet4Address&nbsp;myA,
              int&nbsp;myP,
              java.lang.String&nbsp;logDir,
              boolean&nbsp;authenticate,
              boolean&nbsp;verbose)</pre>
<div class="block">Client instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pA</code> - server IPv4 address</dd>
<dd><code>pP</code> - primary port</dd>
<dd><code>myA</code> - null or preferred local IPv4 address</dd>
<dd><code>myP</code> - preferred local port; if 0, ephemeral</dd>
<dd><code>logDir</code> - directory to write log in (default = ./)</dd>
<dd><code>authenticate</code> - whether to</dd>
<dd><code>verbose</code> - whether the client should be talkative</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="LOG_MSG-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_MSG</h4>
<pre>protected&nbsp;void&nbsp;LOG_MSG(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="getInterfaceAddress-java.net.NetworkInterface-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInterfaceAddress</h4>
<pre>public static&nbsp;java.net.Inet4Address&nbsp;getInterfaceAddress(java.net.NetworkInterface&nbsp;iface)</pre>
</li>
</ul>
<a name="getChangeFlags--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangeFlags</h4>
<pre>public&nbsp;int&nbsp;getChangeFlags()</pre>
</li>
</ul>
<a name="setChangeFlags-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setChangeFlags</h4>
<pre>public&nbsp;void&nbsp;setChangeFlags(int&nbsp;val)</pre>
</li>
</ul>
<a name="getClientAddr--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientAddr</h4>
<pre>public&nbsp;org.xlattice.transport.IPAddress&nbsp;getClientAddr()</pre>
</li>
</ul>
<a name="getMappedAddr--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMappedAddr</h4>
<pre>public&nbsp;org.xlattice.transport.IPAddress&nbsp;getMappedAddr()</pre>
</li>
</ul>
<a name="getReflectedFromAddr--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReflectedFromAddr</h4>
<pre>public&nbsp;org.xlattice.transport.IPAddress&nbsp;getReflectedFromAddr()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the REFLECTED-FROM value or null if none</dd>
</dl>
</li>
</ul>
<a name="getResponseAddr--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResponseAddr</h4>
<pre>public&nbsp;org.xlattice.transport.IPAddress&nbsp;getResponseAddr()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the RESPONSE-ADDRESS value or null if none</dd>
</dl>
</li>
</ul>
<a name="setResponseAddr-org.xlattice.transport.IPAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setResponseAddr</h4>
<pre>public&nbsp;void&nbsp;setResponseAddr(org.xlattice.transport.IPAddress&nbsp;respAddr)</pre>
<div class="block">Causes a RESPONSE-ADDRSS attribute to be added to
 BindingRequests.  If <b>respAddr</b> is null, this
 behaviour ceases.</div>
</li>
</ul>
<a name="getSecondaryAddr--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSecondaryAddr</h4>
<pre>public&nbsp;org.xlattice.transport.IPAddress&nbsp;getSecondaryAddr()</pre>
</li>
</ul>
<a name="getSecretServerAddr--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSecretServerAddr</h4>
<pre>public&nbsp;org.xlattice.transport.IPAddress&nbsp;getSecretServerAddr()</pre>
</li>
</ul>
<a name="getSourceAddr--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSourceAddr</h4>
<pre>public&nbsp;org.xlattice.transport.IPAddress&nbsp;getSourceAddr()</pre>
</li>
</ul>
<a name="getServerIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerIndex</h4>
<pre>public&nbsp;int&nbsp;getServerIndex()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>index of UDP server last used; defaults to zero</dd>
</dl>
</li>
</ul>
<a name="getPort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPort</h4>
<pre>public&nbsp;int&nbsp;getPort()</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">and redundant; use getNattedAddress() instead</span></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>local port number, valid after bind()</dd>
</dl>
</li>
</ul>
<a name="getUserName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserName</h4>
<pre>public&nbsp;byte[]&nbsp;getUserName()</pre>
</li>
</ul>
<a name="getPassword--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPassword</h4>
<pre>public&nbsp;byte[]&nbsp;getPassword()</pre>
</li>
</ul>
<a name="logAndThrow-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logAndThrow</h4>
<pre>protected&nbsp;void&nbsp;logAndThrow(java.lang.String&nbsp;msg)
                    throws <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="doSendRecv-java.net.DatagramPacket-java.net.DatagramSocket-int-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSendRecv</h4>
<pre>protected&nbsp;<a href="../../../../org/xlattice/protocol/stun/BindingResponse.html" title="class in org.xlattice.protocol.stun">BindingResponse</a>&nbsp;doSendRecv(java.net.DatagramPacket&nbsp;outPkt,
                                     java.net.DatagramSocket&nbsp;socket,
                                     int&nbsp;timeout,
                                     byte[]&nbsp;msgID,
                                     byte[]&nbsp;buffer)
                              throws java.io.IOException,
                                     <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>outPkt</code> - packet to be sent out, the BindingRequest</dd>
<dd><code>socket</code> - UDP socket used</dd>
<dd><code>timeout</code> - in ms</dd>
<dd><code>msgID</code> - STUN message ID</dd>
<dd><code>buffer</code> - used for receiving message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="bind-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bind</h4>
<pre>public&nbsp;void&nbsp;bind(int&nbsp;n)
          throws org.xlattice.CryptoException,
                 java.io.IOException,
                 java.net.SocketTimeoutException,
                 <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<div class="block">Get a binding from one of the four UDP binding servers.  If the
 index is -1, this signifies that (a) server zero is to be used
 and (b) the preferred local port is to be used rather than an
 ephemeral port.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>n</code> - which binding server to use</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.net.SocketTimeoutException</code></dd>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
</li>
</ul>
<a name="fetchUserNameAndPassword--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchUserNameAndPassword</h4>
<pre>public&nbsp;void&nbsp;fetchUserNameAndPassword()</pre>
<div class="block">XXX NEEDS TO THROW AN EXCEPTION if not authenticating.
 Of course it will - an NPE, because tlsCtr will be null.</div>
</li>
</ul>
<a name="discoverServers-java.lang.String-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discoverServers</h4>
<pre>public static&nbsp;<a href="../../../../org/xlattice/protocol/stun/ServerInfo.html" title="class in org.xlattice.protocol.stun">ServerInfo</a>[]&nbsp;discoverServers(java.lang.String&nbsp;nameServer,
                                           java.lang.String&nbsp;domain,
                                           boolean&nbsp;findUDP)
                                    throws javax.naming.NamingException</pre>
<div class="block">Discover the STUN server for a given domain, using a particular
 recursive name server for the search.  

 XXX This implementation is a bit of a hack: it returns the first
 XXX match on the query string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nameServer</code> - name server to be used in the search</dd>
<dd><code>domain</code> - fully qualified domain name</dd>
<dd><code>findUDP</code> - if true, find a UDP server, otherwise, TCP</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.naming.NamingException</code></dd>
</dl>
</li>
</ul>
<a name="discoverServers-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discoverServers</h4>
<pre>public static&nbsp;<a href="../../../../org/xlattice/protocol/stun/ServerInfo.html" title="class in org.xlattice.protocol.stun">ServerInfo</a>[]&nbsp;discoverServers(java.lang.String&nbsp;domain,
                                           boolean&nbsp;findUDP)
                                    throws javax.naming.NamingException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.naming.NamingException</code></dd>
</dl>
</li>
</ul>
<a name="test1a--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test1a</h4>
<pre>protected&nbsp;int&nbsp;test1a()
              throws org.xlattice.CryptoException,
                     java.io.IOException,
                     <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<div class="block">Send a bare BindingRequest.  If it times out, return NO_UDP;
 we can't go further.  If it doesn't time out, we have some 
 sort of NAT between us and the server, so return NATTED.

 This test initializes the NattedAddress.  The NAT type must
 be set after the last test, when the type is known.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="test2-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test2</h4>
<pre>protected&nbsp;int&nbsp;test2(boolean&nbsp;natted)
             throws org.xlattice.CryptoException,
                    java.io.IOException,
                    <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="test1b--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test1b</h4>
<pre>protected&nbsp;int&nbsp;test1b()
              throws org.xlattice.CryptoException,
                     java.io.IOException,
                     <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<div class="block">Send out a bare BindingRequest to the server's alternative
 address and port.  If it succeeds, we have a full cone NAT.
 If it times out, we need to run test 3.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>FULL_CONE or INCONCLUSIVE</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="test3--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test3</h4>
<pre>protected&nbsp;int&nbsp;test3()
             throws org.xlattice.CryptoException,
                    java.io.IOException,
                    <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<div class="block">Send a BindingRequest with a change port request to the
 server.  If there is a response, we have a restricted NAT.
 If it times out, we have a port restricted NAT.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>RESTRICTED or PORT_RESTRICTED</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="bindingLifetime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bindingLifetime</h4>
<pre>public&nbsp;int&nbsp;bindingLifetime()</pre>
<div class="block">Spend a lot of time guesstimating how long a port binding
 lasts.  RFC 3489 section 10.1 suggests that (a) the client
 obtain a binding using port X, obtaining a MappedAddress 
 of pA, pP, and then (b) send BindingRequests from port Y != X 
 with a ResponseAddress set to the pA, pP after time T.   If
 the BindingRequest succeeds, T is too small.  If it fails, T
 is too large.  A binary search determines the maximum lifetime.

 This implementation will return a value approximating the
 nearest second.  No attempt is made to ensure that the value
 returned is stable, so if the value returned is erratic, this
 method may never return a value.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimate in seconds</dd>
</dl>
</li>
</ul>
<a name="usage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usage</h4>
<pre>public static&nbsp;void&nbsp;usage()</pre>
<div class="block">Needs to be prettier.</div>
</li>
</ul>
<a name="usage-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usage</h4>
<pre>public static&nbsp;void&nbsp;usage(java.lang.String&nbsp;msg)</pre>
</li>
</ul>
<a name="getIPAddr-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIPAddr</h4>
<pre>public static&nbsp;java.net.Inet4Address&nbsp;getIPAddr(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="validPort-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validPort</h4>
<pre>public static&nbsp;boolean&nbsp;validPort(int&nbsp;n)</pre>
</li>
</ul>
<a name="getPortArg-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPortArg</h4>
<pre>public static&nbsp;int&nbsp;getPortArg(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="getNattedAddress--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNattedAddress</h4>
<pre>public&nbsp;<a href="../../../../org/xlattice/protocol/stun/NattedAddress.html" title="class in org.xlattice.protocol.stun">NattedAddress</a>&nbsp;getNattedAddress()
                               throws org.xlattice.CryptoException,
                                      java.io.IOException,
                                      <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<div class="block">Determines the NAT type and returns it in a NattedAddress,
 which contains the local address (host and port number) and the
 mapped address if different.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="getNatDescription--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNatDescription</h4>
<pre>public&nbsp;java.lang.String&nbsp;getNatDescription()
                                   throws org.xlattice.CryptoException,
                                          java.io.IOException,
                                          <a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></pre>
<div class="block">Returns a String description of the NAT type, possibly with
 embedded newlines, and newline-terminated.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../../org/xlattice/protocol/stun/StunException.html" title="class in org.xlattice.protocol.stun">StunException</a></code></dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws java.lang.Exception</pre>
<div class="block">Command line interface to the STUN client.  Does the requested
 test and exits.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Client.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/xlattice/protocol/stun/ChangeRequest.html" title="class in org.xlattice.protocol.stun"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/xlattice/protocol/stun/Client.Foursome.html" title="class in org.xlattice.protocol.stun"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/xlattice/protocol/stun/Client.html" target="_top">Frames</a></li>
<li><a href="Client.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
