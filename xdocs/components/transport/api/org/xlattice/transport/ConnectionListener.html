<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Tue Dec 31 16:39:31 PST 2013 -->
<title>ConnectionListener</title>
<meta name="date" content="2013-12-31">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ConnectionListener";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConnectionListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/xlattice/transport/CnxListenerFactory.html" title="interface in org.xlattice.transport"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/xlattice/transport/IOScheduler.html" title="class in org.xlattice.transport"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/xlattice/transport/ConnectionListener.html" target="_top">Frames</a></li>
<li><a href="ConnectionListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.xlattice.transport</div>
<h2 title="Interface ConnectionListener" class="title">Interface ConnectionListener</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/xlattice/transport/tls/AsyncTlsClientConnection.html" title="class in org.xlattice.transport.tls">AsyncTlsClientConnection</a>, <a href="../../../org/xlattice/transport/tls/AsyncTlsConnection.html" title="class in org.xlattice.transport.tls">AsyncTlsConnection</a>, <a href="../../../org/xlattice/transport/tls/AsyncTlsServerConnection.html" title="class in org.xlattice.transport.tls">AsyncTlsServerConnection</a>, <a href="../../../org/xlattice/transport/mockery/MockConnListener.html" title="class in org.xlattice.transport.mockery">MockConnListener</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">ConnectionListener</span></pre>
<div class="block">A ConnectionListener is associated with each SchedulableConnection.
 The listener enforces a protocol.  If this is a client connection,
 the listener will begin by sending data to the other end.  If it is
 a server connection, it will begin by receiving data.  

 When the connection receives data, it does a read on the incoming
 link.  If this reflects a disconnection (-1 read count), the 
 connection calls reportDisconnect().  If the read count is zero,
 the connection silently waits for more data.  If the read count is
 greater than zero, the input buffer is presented to the listener
 for analysis by a call to dataReceived().  The listener can then
 choose to disconnect (data violated a filter constraint), wait for
 more data, or accept the data and send a reply using a call to 
 sendData(outBuffer).  The argument may or may not be the same as
 the input buffer.

 When the connection has completing transmitting data, it calls
 dataSent().  If this is a client connection, this will be followed
 by a call to initiateReading() on the connection.  If it is a 
 server connection and the protocol is simple, the connection is
 closed after receiving a dataSent() call.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jim Dixon</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xlattice/transport/ConnectionListener.html#dataReceived()">dataReceived</a></strong>()</code>
<div class="block">Report to the listener than some data has been received on cnx.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xlattice/transport/ConnectionListener.html#dataSent()">dataSent</a></strong>()</code>
<div class="block">Report to the listener that a data transmission has been 
 completed on cnx.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xlattice/transport/ConnectionListener.html#reportDisconnect()">reportDisconnect</a></strong>()</code>
<div class="block">Report that the SchedulableConnection has been closed at the far 
 end.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xlattice/transport/ConnectionListener.html#reportException(java.lang.Exception)">reportException</a></strong>(java.lang.Exception&nbsp;exc)</code>
<div class="block">Report an exception.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xlattice/transport/ConnectionListener.html#setConnection(org.xlattice.transport.SchedulableConnection, java.nio.ByteBuffer)">setConnection</a></strong>(<a href="../../../org/xlattice/transport/SchedulableConnection.html" title="interface in org.xlattice.transport">SchedulableConnection</a>&nbsp;cnx,
             java.nio.ByteBuffer&nbsp;buffer)</code>
<div class="block">Tells the listener what connection it is listening to and
 what input buffer the connection is using.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setConnection(org.xlattice.transport.SchedulableConnection, java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConnection</h4>
<pre>void&nbsp;setConnection(<a href="../../../org/xlattice/transport/SchedulableConnection.html" title="interface in org.xlattice.transport">SchedulableConnection</a>&nbsp;cnx,
                 java.nio.ByteBuffer&nbsp;buffer)</pre>
<div class="block">Tells the listener what connection it is listening to and
 what input buffer the connection is using.
 
 IOScheduler and SelectionKey are available from the connection.
 This method should be called once and only once.

 If this is a client connection, this call will result in an
 initial sendData() call.  If it is a server connection, it
 will result in an initiateReading() call on the connection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cnx</code> - reporting SchedulableConnection</dd><dd><code>buffer</code> - input data buffer</dd></dl>
</li>
</ul>
<a name="dataSent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataSent</h4>
<pre>void&nbsp;dataSent()</pre>
<div class="block">Report to the listener that a data transmission has been 
 completed on cnx.  If this is a client connection, this will cause
 an initiateReading() call.  If it is a server connection
 and the protocol is simple, the connection will be closed.
 If the protocol involves a series of messages, the listener
 will call initiateReading() on the connection to begin the
 next message cycle.</div>
</li>
</ul>
<a name="dataReceived()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataReceived</h4>
<pre>void&nbsp;dataReceived()</pre>
<div class="block">Report to the listener than some data has been received on cnx.  
 This method will NOT be invoked if zero bytes were received on a 
 connection.  The listener evaluates whether a complete message
 has been received.  If it has, it initiates a write.</div>
</li>
</ul>
<a name="reportDisconnect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportDisconnect</h4>
<pre>void&nbsp;reportDisconnect()</pre>
<div class="block">Report that the SchedulableConnection has been closed at the far 
 end.  The listener should free up any allocated resources.</div>
</li>
</ul>
<a name="reportException(java.lang.Exception)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reportException</h4>
<pre>void&nbsp;reportException(java.lang.Exception&nbsp;exc)</pre>
<div class="block">Report an exception.  This may result in the connection being
 closed, or it may cause an error message to be sent to the 
 other end of the connection.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConnectionListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/xlattice/transport/CnxListenerFactory.html" title="interface in org.xlattice.transport"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/xlattice/transport/IOScheduler.html" title="class in org.xlattice.transport"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/xlattice/transport/ConnectionListener.html" target="_top">Frames</a></li>
<li><a href="ConnectionListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
