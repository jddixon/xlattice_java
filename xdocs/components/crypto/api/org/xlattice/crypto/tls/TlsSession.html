<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Sun Dec 29 14:37:58 PST 2013 -->
<title>TlsSession</title>
<meta name="date" content="2013-12-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TlsSession";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TlsSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/xlattice/crypto/tls/TlsServerEngine.html" title="class in org.xlattice.crypto.tls"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/xlattice/crypto/tls/TlsSession.html" target="_top">Frames</a></li>
<li><a href="TlsSession.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.xlattice.crypto.tls</div>
<h2 title="Class TlsSession" class="title">Class TlsSession</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.xlattice.crypto.tls.TlsSession</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/xlattice/crypto/tls/TlsConst.html" title="interface in org.xlattice.crypto.tls">TlsConst</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">TlsSession</span>
extends java.lang.Object
implements <a href="../../../../org/xlattice/crypto/tls/TlsConst.html" title="interface in org.xlattice.crypto.tls">TlsConst</a></pre>
<div class="block">A TlsSession is associated with each SSL/TLS connection.  It is 
 used in conjunction with a TlsContext.  The TlsContext holds 
 common information used by many connections; the TlsSession 
 contains information specific to a given connection, and indeed
 sufficient information to allow the connection to be reopened 
 after being closed.
 
 The TlsSession holds zero or more peer public keys; a TrustManagerFactory;
 an ephemeral JSSE SSLContext; and a JSSE SSLSession, which allows us
 to resume the TlsSession.  It also has an authentication level member
 characterizing the connection.

 An XLattice Node will normally have a single TlsContext and many
 TlsSessions.

 XXX IS IT NECESSARY TO HAVE A SEPARATE KEYSTORE?</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jim Dixon</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.xlattice.crypto.tls.TlsConst">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;org.xlattice.crypto.tls.<a href="../../../../org/xlattice/crypto/tls/TlsConst.html" title="interface in org.xlattice.crypto.tls">TlsConst</a></h3>
<code><a href="../../../../org/xlattice/crypto/tls/TlsConst.EngineStates.html" title="enum in org.xlattice.crypto.tls">TlsConst.EngineStates</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/xlattice/crypto/tls/TlsContext.html" title="class in org.xlattice.crypto.tls">TlsContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#context">context</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#isClient">isClient</a></strong></code>
<div class="block">whether this end acts as a TLS client</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#level">level</a></strong></code>
<div class="block">the authentication level for the session</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) char[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#passphrase">passphrase</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) javax.net.ssl.TrustManager[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#trustManagers">trustManagers</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.security.KeyStore</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#trustStore">trustStore</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#trustStoreName">trustStoreName</a></strong></code>
<div class="block">file name, key store for peer's public key</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.xlattice.crypto.tls.TlsConst">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.xlattice.crypto.tls.<a href="../../../../org/xlattice/crypto/tls/TlsConst.html" title="interface in org.xlattice.crypto.tls">TlsConst</a></h3>
<code><a href="../../../../org/xlattice/crypto/tls/TlsConst.html#ANONYMOUS_TLS">ANONYMOUS_TLS</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#ANY_CERT">ANY_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#ANY_CLIENT_CERT">ANY_CLIENT_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#ANY_SERVER_CERT">ANY_SERVER_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#CA_SIGNED_CERT">CA_SIGNED_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#CA_SIGNED_CLIENT_CERT">CA_SIGNED_CLIENT_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#CA_SIGNED_SERVER_CERT">CA_SIGNED_SERVER_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#CLIENT_MASK">CLIENT_MASK</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#CLIENT_SHIFT">CLIENT_SHIFT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#KNOWN_CERT">KNOWN_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#KNOWN_CLIENT_CERT">KNOWN_CLIENT_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#KNOWN_SERVER_CERT">KNOWN_SERVER_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#LEARN_CERT">LEARN_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#LEARN_CLIENT_CERT">LEARN_CLIENT_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#LEARN_SERVER_CERT">LEARN_SERVER_CERT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#SERVER_MASK">SERVER_MASK</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#SERVER_SHIFT">SERVER_SHIFT</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#TLS_ANONYMOUS_CIPHERS">TLS_ANONYMOUS_CIPHERS</a>, <a href="../../../../org/xlattice/crypto/tls/TlsConst.html#TRUST_ANYONE">TRUST_ANYONE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#TlsSession(org.xlattice.crypto.tls.TlsContext, int, java.lang.String, char[], boolean)">TlsSession</a></strong>(<a href="../../../../org/xlattice/crypto/tls/TlsContext.html" title="class in org.xlattice.crypto.tls">TlsContext</a>&nbsp;context,
          int&nbsp;authLevel,
          java.lang.String&nbsp;trustStoreName,
          char[]&nbsp;passphrase,
          boolean&nbsp;isClient)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#effectiveAuthLevel(int, int)">effectiveAuthLevel</a></strong>(int&nbsp;ctxLevel,
                  int&nbsp;authLevel)</code>
<div class="block">DETERMINE EFFECTIVE AUTHENTICATION LEVEL.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/xlattice/crypto/tls/TlsEngine.html" title="class in org.xlattice.crypto.tls">TlsEngine</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#getEngine()">getEngine</a></strong>()</code>
<div class="block">XXX NEED TO ALLOW FOR SESSION BEING RESUMED.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>javax.net.ssl.SSLSession</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#getJsseSession()">getJsseSession</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>javax.net.ssl.TrustManager[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/xlattice/crypto/tls/TlsSession.html#getTrustManagers()">getTrustManagers</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="context">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre>final&nbsp;<a href="../../../../org/xlattice/crypto/tls/TlsContext.html" title="class in org.xlattice.crypto.tls">TlsContext</a> context</pre>
</li>
</ul>
<a name="level">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>level</h4>
<pre>final&nbsp;int level</pre>
<div class="block">the authentication level for the session</div>
</li>
</ul>
<a name="trustStoreName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trustStoreName</h4>
<pre>final&nbsp;java.lang.String trustStoreName</pre>
<div class="block">file name, key store for peer's public key</div>
</li>
</ul>
<a name="trustStore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trustStore</h4>
<pre>final&nbsp;java.security.KeyStore trustStore</pre>
</li>
</ul>
<a name="passphrase">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>passphrase</h4>
<pre>final&nbsp;char[] passphrase</pre>
</li>
</ul>
<a name="trustManagers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trustManagers</h4>
<pre>final&nbsp;javax.net.ssl.TrustManager[] trustManagers</pre>
</li>
</ul>
<a name="isClient">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isClient</h4>
<pre>public final&nbsp;boolean isClient</pre>
<div class="block">whether this end acts as a TLS client</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TlsSession(org.xlattice.crypto.tls.TlsContext, int, java.lang.String, char[], boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TlsSession</h4>
<pre>public&nbsp;TlsSession(<a href="../../../../org/xlattice/crypto/tls/TlsContext.html" title="class in org.xlattice.crypto.tls">TlsContext</a>&nbsp;context,
          int&nbsp;authLevel,
          java.lang.String&nbsp;trustStoreName,
          char[]&nbsp;passphrase,
          boolean&nbsp;isClient)
           throws java.io.IOException,
                  java.security.GeneralSecurityException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.security.GeneralSecurityException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="effectiveAuthLevel(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>effectiveAuthLevel</h4>
<pre>public final&nbsp;int&nbsp;effectiveAuthLevel(int&nbsp;ctxLevel,
                     int&nbsp;authLevel)</pre>
<div class="block">DETERMINE EFFECTIVE AUTHENTICATION LEVEL.  Context authentication 
 level is interpreted as the minimum acceptable, except that if
 LEARN then it is ORed in.  XXX This implementation doesn't 
 quite make sense, but it should do for a while.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ctxLevel</code> - TlsContext authentication level</dd><dd><code>authLevel</code> - TlsSession parameter</dd></dl>
</li>
</ul>
<a name="getTrustManagers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrustManagers</h4>
<pre>public&nbsp;javax.net.ssl.TrustManager[]&nbsp;getTrustManagers()</pre>
</li>
</ul>
<a name="getEngine()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEngine</h4>
<pre>public&nbsp;<a href="../../../../org/xlattice/crypto/tls/TlsEngine.html" title="class in org.xlattice.crypto.tls">TlsEngine</a>&nbsp;getEngine()
                    throws java.io.IOException,
                           java.security.GeneralSecurityException</pre>
<div class="block">XXX NEED TO ALLOW FOR SESSION BEING RESUMED.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.security.GeneralSecurityException</code></dd></dl>
</li>
</ul>
<a name="getJsseSession()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getJsseSession</h4>
<pre>public&nbsp;javax.net.ssl.SSLSession&nbsp;getJsseSession()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TlsSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/xlattice/crypto/tls/TlsServerEngine.html" title="class in org.xlattice.crypto.tls"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/xlattice/crypto/tls/TlsSession.html" target="_top">Frames</a></li>
<li><a href="TlsSession.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
