<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Sun Jul 03 21:05:14 PDT 2016 -->
<title>Name2Hash</title>
<meta name="date" content="2016-07-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Name2Hash";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":9,"i8":9,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":9,"i15":9,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Name2Hash.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/xlattice/httpd/MessageFormatException.html" title="class in org.xlattice.httpd"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/xlattice/httpd/NotImplementedException.html" title="class in org.xlattice.httpd"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/xlattice/httpd/Name2Hash.html" target="_top">Frames</a></li>
<li><a href="Name2Hash.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.xlattice.httpd</div>
<h2 title="Class Name2Hash" class="title">Class Name2Hash</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.xlattice.httpd.Name2Hash</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.xlattice.overlay.NameKeyed, org.xlattice.overlay.NameKeyedReader, org.xlattice.overlay.NameKeyedWriter</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Name2Hash</span>
extends java.lang.Object
implements org.xlattice.overlay.NameKeyed</pre>
<div class="block">Maintains data structures mapping path names to NodeIDs, which
 are used to retrieve data from a MemCache, an in-memory cache of 
 byte arrays.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Jim Dixon</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#DEFAULT_MAX_COUNT">DEFAULT_MAX_COUNT</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#addBuildList-org.xlattice.crypto.builds.BuildList-">addBuildList</a></span>(org.xlattice.crypto.builds.BuildList&nbsp;newList)</code>
<div class="block">Add the items in the build list to the name-to-hash mapping.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected org.xlattice.NodeID</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#addContent-java.lang.String-byte:A-">addContent</a></span>(java.lang.String&nbsp;path,
          byte[]&nbsp;data)</code>
<div class="block">Add a name-to-hash mapping implicitly.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#addContent-java.lang.String-org.xlattice.NodeID-byte:A-">addContent</a></span>(java.lang.String&nbsp;path,
          org.xlattice.NodeID&nbsp;id,
          byte[]&nbsp;data)</code>
<div class="block">CONSIDER ME DEPRECATED</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#addName-java.lang.String-org.xlattice.NodeID-">addName</a></span>(java.lang.String&nbsp;path,
       org.xlattice.NodeID&nbsp;id)</code>
<div class="block">Add a name-to-hash mapping.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#addSiteList-org.xlattice.httpd.SiteList-">addSiteList</a></span>(<a href="../../../org/xlattice/httpd/SiteList.html" title="class in org.xlattice.httpd">SiteList</a>&nbsp;newList)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#checkByteArray-byte:A-">checkByteArray</a></span>(byte[]&nbsp;b)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected org.xlattice.NodeID</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#checkName-java.lang.String-">checkName</a></span>(java.lang.String&nbsp;path)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#checkNodeID-org.xlattice.NodeID-">checkNodeID</a></span>(org.xlattice.NodeID&nbsp;id)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#checkPath-java.lang.String-">checkPath</a></span>(java.lang.String&nbsp;path)</code>
<div class="block">Utility checking to see that path is relative (not absolute),
 does not contain any double-dots (".."), and is not null.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#clear--">clear</a></span>()</code>
<div class="block">Clear both Name2Hash and the underlying MemCache.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#DEBUG_MSG-java.lang.String-">DEBUG_MSG</a></span>(java.lang.String&nbsp;msg)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#delete-java.lang.String-org.xlattice.overlay.DelCallBack-">delete</a></span>(java.lang.String&nbsp;path,
      org.xlattice.overlay.DelCallBack&nbsp;callBack)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#get-java.lang.String-org.xlattice.overlay.GetCallBack-">get</a></span>(java.lang.String&nbsp;path,
   org.xlattice.overlay.GetCallBack&nbsp;callBack)</code>
<div class="block">Retrieve data by (path to) file name.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>org.xlattice.crypto.builds.BuildList[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#getBuildLists--">getBuildLists</a></span>()</code>
<div class="block">XXX Returns references, not copies.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static <a href="../../../org/xlattice/httpd/Name2Hash.html" title="class in org.xlattice.httpd">Name2Hash</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#getInstance--">getInstance</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static <a href="../../../org/xlattice/httpd/Name2Hash.html" title="class in org.xlattice.httpd">Name2Hash</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#getInstance-java.lang.String-">getInstance</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#getPathToXLattice--">getPathToXLattice</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../org/xlattice/httpd/SiteList.html" title="class in org.xlattice.httpd">SiteList</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#getSiteList--">getSiteList</a></span>()</code>
<div class="block">XXX Returns a reference, not a copy.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../org/xlattice/httpd/SiteList.html" title="class in org.xlattice.httpd">SiteList</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#loadFromNodeDir-java.lang.String-">loadFromNodeDir</a></span>(java.lang.String&nbsp;nodeDirName)</code>
<div class="block">Read the SiteList and then the BuildLists from the node 
 directory, using these to populate Name2Hash.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#loadFromSiteDirs-java.lang.String-java.lang.String-">loadFromSiteDirs</a></span>(java.lang.String&nbsp;nodeDirName,
                java.lang.String&nbsp;sitesDirName)</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#loadFromStore-java.lang.String-">loadFromStore</a></span>(java.lang.String&nbsp;nodeDirName)</code>
<div class="block">Given an existing node directory, load Name2Hash from the
 SiteList and BuildLists found there, and then load
 MemCache from the content-keyed data in store/</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#put-java.lang.String-byte:A-org.xlattice.overlay.PutCallBack-">put</a></span>(java.lang.String&nbsp;path,
   byte[]&nbsp;b,
   org.xlattice.overlay.PutCallBack&nbsp;callBack)</code>
<div class="block">Store data by file name.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#removeBuildList-org.xlattice.crypto.builds.BuildList-">removeBuildList</a></span>(org.xlattice.crypto.builds.BuildList&nbsp;theList)</code>
<div class="block">Remove the items in the build list from the name-to-hash mapping.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected org.xlattice.NodeID</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#removeName-java.lang.String-">removeName</a></span>(java.lang.String&nbsp;path)</code>
<div class="block">Remove the name from the name-to-hash mapping, leaving the
 underlying data cache (MemCache) unaffected.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#removeSiteList--">removeSiteList</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#replaceSiteList-org.xlattice.httpd.SiteList-">replaceSiteList</a></span>(<a href="../../../org/xlattice/httpd/SiteList.html" title="class in org.xlattice.httpd">SiteList</a>&nbsp;newList)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#setDebugLog-java.lang.String-">setDebugLog</a></span>(java.lang.String&nbsp;name)</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/xlattice/httpd/Name2Hash.html#size--">size</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_MAX_COUNT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_MAX_COUNT</h4>
<pre>public static final&nbsp;int DEFAULT_MAX_COUNT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.xlattice.httpd.Name2Hash.DEFAULT_MAX_COUNT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../org/xlattice/httpd/Name2Hash.html" title="class in org.xlattice.httpd">Name2Hash</a>&nbsp;getInstance()</pre>
</li>
</ul>
<a name="getInstance-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../org/xlattice/httpd/Name2Hash.html" title="class in org.xlattice.httpd">Name2Hash</a>&nbsp;getInstance(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="setDebugLog-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebugLog</h4>
<pre>public final&nbsp;void&nbsp;setDebugLog(java.lang.String&nbsp;name)</pre>
</li>
</ul>
<a name="DEBUG_MSG-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG_MSG</h4>
<pre>protected&nbsp;void&nbsp;DEBUG_MSG(java.lang.String&nbsp;msg)</pre>
</li>
</ul>
<a name="delete-java.lang.String-org.xlattice.overlay.DelCallBack-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(java.lang.String&nbsp;path,
                   org.xlattice.overlay.DelCallBack&nbsp;callBack)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>delete</code>&nbsp;in interface&nbsp;<code>org.xlattice.overlay.NameKeyedWriter</code></dd>
</dl>
</li>
</ul>
<a name="get-java.lang.String-org.xlattice.overlay.GetCallBack-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;void&nbsp;get(java.lang.String&nbsp;path,
                org.xlattice.overlay.GetCallBack&nbsp;callBack)</pre>
<div class="block">Retrieve data by (path to) file name.  This path INCLUDES
 the Web site directory name.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>get</code>&nbsp;in interface&nbsp;<code>org.xlattice.overlay.NameKeyedReader</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - file name as path from "sites" directory.</dd>
</dl>
</li>
</ul>
<a name="put-java.lang.String-byte:A-org.xlattice.overlay.PutCallBack-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(java.lang.String&nbsp;path,
                byte[]&nbsp;b,
                org.xlattice.overlay.PutCallBack&nbsp;callBack)</pre>
<div class="block">Store data by file name.  The file name must be an absolute
 path name containing no relative path constructions (..).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>put</code>&nbsp;in interface&nbsp;<code>org.xlattice.overlay.NameKeyedWriter</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - absolute path name file of file to be written</dd>
<dd><code>b</code> - buffer holding data to be written</dd>
</dl>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">Clear both Name2Hash and the underlying MemCache.

 XXX There is a possibility of deadlock here.  Anything locking
 XXX MemCache must *first* lock Name2Hash's map.</div>
</li>
</ul>
<a name="getPathToXLattice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPathToXLattice</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPathToXLattice()</pre>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
</li>
</ul>
<a name="getBuildLists--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuildLists</h4>
<pre>public&nbsp;org.xlattice.crypto.builds.BuildList[]&nbsp;getBuildLists()</pre>
<div class="block">XXX Returns references, not copies.  XXX LOCKING ???</div>
</li>
</ul>
<a name="getSiteList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSiteList</h4>
<pre>public&nbsp;<a href="../../../org/xlattice/httpd/SiteList.html" title="class in org.xlattice.httpd">SiteList</a>&nbsp;getSiteList()</pre>
<div class="block">XXX Returns a reference, not a copy. XXX LOCKING ???</div>
</li>
</ul>
<a name="replaceSiteList-org.xlattice.httpd.SiteList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceSiteList</h4>
<pre>public&nbsp;void&nbsp;replaceSiteList(<a href="../../../org/xlattice/httpd/SiteList.html" title="class in org.xlattice.httpd">SiteList</a>&nbsp;newList)</pre>
</li>
</ul>
<a name="removeSiteList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeSiteList</h4>
<pre>public&nbsp;void&nbsp;removeSiteList()</pre>
</li>
</ul>
<a name="addSiteList-org.xlattice.httpd.SiteList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSiteList</h4>
<pre>public&nbsp;void&nbsp;addSiteList(<a href="../../../org/xlattice/httpd/SiteList.html" title="class in org.xlattice.httpd">SiteList</a>&nbsp;newList)</pre>
</li>
</ul>
<a name="addBuildList-org.xlattice.crypto.builds.BuildList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBuildList</h4>
<pre>public&nbsp;void&nbsp;addBuildList(org.xlattice.crypto.builds.BuildList&nbsp;newList)
                  throws org.xlattice.CryptoException</pre>
<div class="block">Add the items in the build list to the name-to-hash mapping.
 This does not affect the underlying MemCache.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
</dl>
</li>
</ul>
<a name="removeBuildList-org.xlattice.crypto.builds.BuildList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeBuildList</h4>
<pre>public&nbsp;void&nbsp;removeBuildList(org.xlattice.crypto.builds.BuildList&nbsp;theList)
                     throws org.xlattice.CryptoException</pre>
<div class="block">Remove the items in the build list from the name-to-hash mapping.
 This does not affect the underlying MemCache.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.xlattice.CryptoException</code></dd>
</dl>
</li>
</ul>
<a name="addName-java.lang.String-org.xlattice.NodeID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addName</h4>
<pre>protected&nbsp;int&nbsp;addName(java.lang.String&nbsp;path,
                      org.xlattice.NodeID&nbsp;id)</pre>
<div class="block">Add a name-to-hash mapping.  The name is a file name in 
 relative path form; that is, the name may not begin with a separator
 and contains no ".." sequences.  The NodeID should represent
 the key (content key or signed key) of a data file, but this
 is not enforced here.  This operation has no effect on the
 underlying data cache (MemCache);</div>
</li>
</ul>
<a name="checkName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkName</h4>
<pre>protected&nbsp;org.xlattice.NodeID&nbsp;checkName(java.lang.String&nbsp;path)</pre>
</li>
</ul>
<a name="removeName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeName</h4>
<pre>protected&nbsp;org.xlattice.NodeID&nbsp;removeName(java.lang.String&nbsp;path)</pre>
<div class="block">Remove the name from the name-to-hash mapping, leaving the
 underlying data cache (MemCache) unaffected.  The name should
 take the form of a relative path to a file, but this is not
 checked.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - an absolute path to a file</dd>
</dl>
</li>
</ul>
<a name="addContent-java.lang.String-org.xlattice.NodeID-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addContent</h4>
<pre>protected&nbsp;int&nbsp;addContent(java.lang.String&nbsp;path,
                         org.xlattice.NodeID&nbsp;id,
                         byte[]&nbsp;data)</pre>
<div class="block">CONSIDER ME DEPRECATED</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>CallBack-compatible int status codes</dd>
</dl>
</li>
</ul>
<a name="addContent-java.lang.String-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addContent</h4>
<pre>protected&nbsp;org.xlattice.NodeID&nbsp;addContent(java.lang.String&nbsp;path,
                                         byte[]&nbsp;data)</pre>
<div class="block">Add a name-to-hash mapping implicitly.  Calculates the SHA1
 hash for the byte array and adds a corresponding String-to-hash
 mapping.  The underlying in-memory data cache (MemCache) is
 also updated.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - file name in absolute path form</dd>
<dd><code>data</code> - byte array, the contents of the file</dd>
</dl>
</li>
</ul>
<a name="checkByteArray-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkByteArray</h4>
<pre>protected static final&nbsp;int&nbsp;checkByteArray(byte[]&nbsp;b)</pre>
</li>
</ul>
<a name="checkNodeID-org.xlattice.NodeID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkNodeID</h4>
<pre>protected static final&nbsp;int&nbsp;checkNodeID(org.xlattice.NodeID&nbsp;id)</pre>
</li>
</ul>
<a name="checkPath-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkPath</h4>
<pre>protected static final&nbsp;int&nbsp;checkPath(java.lang.String&nbsp;path)</pre>
<div class="block">Utility checking to see that path is relative (not absolute),
 does not contain any double-dots (".."), and is not null.</div>
</li>
</ul>
<a name="loadFromNodeDir-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadFromNodeDir</h4>
<pre>public&nbsp;<a href="../../../org/xlattice/httpd/SiteList.html" title="class in org.xlattice.httpd">SiteList</a>&nbsp;loadFromNodeDir(java.lang.String&nbsp;nodeDirName)</pre>
<div class="block">Read the SiteList and then the BuildLists from the node 
 directory, using these to populate Name2Hash.

 XXX MESSY, NEEDS CLEANING UP.  MUST VERIFY THAT ALL SignedLists
 XXX ARE SIGNED BY THE SAME KEY.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a reference to the SiteList</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code></dd>
</dl>
</li>
</ul>
<a name="loadFromSiteDirs-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadFromSiteDirs</h4>
<pre>public&nbsp;void&nbsp;loadFromSiteDirs(java.lang.String&nbsp;nodeDirName,
                             java.lang.String&nbsp;sitesDirName)</pre>
</li>
</ul>
<a name="loadFromStore-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>loadFromStore</h4>
<pre>public&nbsp;void&nbsp;loadFromStore(java.lang.String&nbsp;nodeDirName)</pre>
<div class="block">Given an existing node directory, load Name2Hash from the
 SiteList and BuildLists found there, and then load
 MemCache from the content-keyed data in store/</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Name2Hash.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/xlattice/httpd/MessageFormatException.html" title="class in org.xlattice.httpd"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/xlattice/httpd/NotImplementedException.html" title="class in org.xlattice.httpd"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/xlattice/httpd/Name2Hash.html" target="_top">Frames</a></li>
<li><a href="Name2Hash.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
